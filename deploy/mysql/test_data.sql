-- OJ System 测试数据
-- 生成测试用户、管理员、题目、竞赛等数据
-- 密码统一为 123123 (BCrypt加密后的值)

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ==================== 普通用户数据 (tb_user) ====================
-- 密码 123123 的 BCrypt 加密值
INSERT INTO `tb_user` (`user_id`, `user_account`, `password`, `nick_name`, `avatar`, `email`, `phone`, `school`, `status`, `submitted_count`, `accepted_count`, `rating`) VALUES
(1001, 'user001', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVKIUi', '测试用户01', 'https://gravatar.com/avatar/user001', 'user001@test.com', '13800000001', '清华大学', 1, 50, 30, 1650),
(1002, 'user002', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVKIUi', '测试用户02', 'https://gravatar.com/avatar/user002', 'user002@test.com', '13800000002', '北京大学', 1, 45, 25, 1600),
(1003, 'user003', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVKIUi', '测试用户03', 'https://gravatar.com/avatar/user003', 'user003@test.com', '13800000003', '浙江大学', 1, 60, 35, 1700),
(1004, 'user004', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVKIUi', '测试用户04', 'https://gravatar.com/avatar/user004', 'user004@test.com', '13800000004', '上海交通大学', 1, 40, 20, 1550),
(1005, 'user005', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVKIUi', '测试用户05', 'https://gravatar.com/avatar/user005', 'user005@test.com', '13800000005', '复旦大学', 1, 55, 28, 1620);

-- ==================== 管理员用户数据 (tb_sys_user) ====================
INSERT INTO `tb_sys_user` (`user_id`, `user_account`, `password`, `nick_name`) VALUES
(2001, 'admin', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVKIUi', '超级管理员'),
(2002, 'admin001', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVKIUi', '管理员01'),
(2003, 'admin002', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVKIUi', '管理员02');

-- ==================== 题目标签数据 (tb_problem_tag) ====================
INSERT INTO `tb_problem_tag` (`tag_id`, `tag_name`, `tag_color`) VALUES
(1, '数组', '#1890ff'),
(2, '字符串', '#52c41a'),
(3, '链表', '#faad14'),
(4, '树', '#f5222d'),
(5, '图论', '#722ed1'),
(6, '动态规划', '#eb2f96'),
(7, '贪心', '#13c2c2'),
(8, '二分查找', '#2f54eb'),
(9, '哈希表', '#fa8c16'),
(10, '栈', '#a0d911');

-- ==================== 题目数据 (tb_problem) ====================
INSERT INTO `tb_problem` (`problem_id`, `title`, `difficulty`, `description`, `input_description`, `output_description`, `time_limit`, `memory_limit`, `sample_input`, `sample_output`, `hint`, `status`, `create_by`) VALUES
-- 简单题目
(3001, 'A+B', 1, '## 题目描述\n给定两个整数 a 和 b，计算它们的和。\n\n## 输入格式\n一行，包含两个整数 a 和 b，用空格分隔。\n\n## 输出格式\n输出一个整数，表示 a + b 的结果。\n\n## 样例说明\n1 + 2 = 3', '输入两个整数 a 和 b', '输出 a + b 的结果', 1000, 128, '1 2', '3', '直接使用加法运算符即可', 1, 2001),

(3002, '求和', 1, '## 题目描述\n给定一个整数 n，计算 1 + 2 + 3 + ... + n 的值。\n\n## 输入格式\n一个整数 n (1 ≤ n ≤ 1000)\n\n## 输出格式\n输出 1 到 n 的和', '输入一个整数 n', '输出 1 到 n 的和', 1000, 128, '5', '15', '使用循环或公式 (n*(n+1))/2', 1, 2001),

(3003, '奇偶判断', 1, '## 题目描述\n给定一个整数 n，判断它是奇数还是偶数。\n\n## 输入格式\n一个整数 n\n\n## 输出格式\n如果 n 是偶数，输出 "even"，否则输出 "odd"', '输入一个整数 n', '输出 even 或 odd', 1000, 128, '4', 'even', '使用 n % 2 判断', 1, 2001),

-- 中等题目
(3004, '数组最大值', 2, '## 题目描述\n给定一个整数数组，找出其中的最大值。\n\n## 输入格式\n第一行一个整数 n，表示数组长度\n第二行 n 个整数，表示数组元素\n\n## 输出格式\n输出数组中的最大值', '第一行输入 n，第二行输入 n 个整数', '输出最大值', 1000, 128, '5\n1 3 5 2 4', '5', '遍历数组寻找最大值', 1, 2001),

(3005, '回文串', 2, '## 题目描述\n给定一个字符串，判断它是否是回文串。\n\n## 输入格式\n一个字符串 s (只包含字母和数字)\n\n## 输出格式\n如果是回文串，输出 "yes"，否则输出 "no"', '输入一个字符串', '输出 yes 或 no', 1000, 128, 'abcba', 'yes', '使用双指针法', 1, 2001),

(3006, '合并有序数组', 2, '## 题目描述\n给定两个有序数组，将它们合并成一个有序数组。\n\n## 输入格式\n第一行：数组1的长度 n 和数组2的长度 m\n第二行：n 个有序整数\n第三行：m 个有序整数\n\n## 输出格式\n输出合并后的有序数组', '见题目描述', '输出合并后的有序数组', 1000, 128, '3 3\n1 3 5\n2 4 6', '1 2 3 4 5 6', '使用归并排序的合并过程', 1, 2001),

-- 困难题目
(3007, '最短路径', 3, '## 题目描述\n给定一个无向图和两个节点，找出它们之间的最短路径长度。\n\n## 输入格式\n第一行：节点数 n，边数 m\n接下来 m 行：每行两个数 u, v，表示 u 和 v 之间有边\n最后一行：起点 s 和终点 t\n\n## 输出格式\n输出从 s 到 t 的最短路径长度，若无法到达则输出 -1', '见题目描述', '输出最短路径长度', 2000, 256, '3 3\n1 2\n2 3\n1 3\n1 3', '1', '使用 BFS 广度优先搜索', 1, 2001),

(3008, '质因数分解', 3, '## 题目描述\n给定一个正整数 n，将它分解为若干个质数的乘积，输出所有可能的分解方案。\n\n## 输入格式\n一个正整数 n (2 ≤ n ≤ 100)\n\n## 输出格式\n每行输出一种分解方案，质数从小到大排列', '输入一个正整数 n', '输出所有质因数分解方案', 2000, 256, '12', '2*2*3\n2*6\n3*4\n12', '使用 DFS 回溯算法', 1, 2001);

-- ==================== 题目标签关联数据 (tb_problem_tag_relation) ====================
INSERT INTO `tb_problem_tag_relation` (`problem_id`, `tag_id`) VALUES
-- A+B题
(3001, 9),
-- 1到n求和
(3002, 6),
-- 奇偶判断
(3003, 2),
-- 数组最大值
(3004, 1),
-- 回文串
(3005, 2),
-- 合并有序数组
(3006, 1),
(3006, 6),
-- 最短路径
(3007, 5),
-- 质因数分解
(3008, 6);

-- ==================== 测试用例数据 (tb_test_case) ====================
INSERT INTO `tb_test_case` (`case_id`, `problem_id`, `input`, `output`) VALUES
-- A+B题测试用例
(4001, 3001, '1 2', '3'),
(4002, 3001, '0 0', '0'),
(4003, 3001, '100 200', '300'),
(4004, 3001, '-5 3', '-2'),
(4005, 3001, '999999 1', '1000000'),

-- 1到n求和测试用例
(4006, 3002, '5', '15'),
(4007, 3002, '10', '55'),
(4008, 3002, '1', '1'),
(4009, 3002, '100', '5050'),
(4010, 3002, '1000', '500500'),

-- 奇偶判断测试用例
(4011, 3003, '4', 'even'),
(4012, 3003, '7', 'odd'),
(4013, 3003, '0', 'even'),
(4014, 3003, '1', 'odd'),
(4015, 3003, '100', 'even'),

-- 数组最大值测试用例
(4016, 3004, '5\n1 3 5 2 4', '5'),
(4017, 3004, '3\n10 20 30', '30'),
(4018, 3004, '1\n100', '100'),
(4019, 3004, '6\n-1 -2 -3 -4 -5 -6', '-1'),

-- 回文串测试用例
(4020, 3005, 'abcba', 'yes'),
(4021, 3005, 'abccba', 'yes'),
(4022, 3005, 'abc', 'no'),
(4023, 3005, 'a', 'yes'),
(4024, 3005, 'ab', 'no'),

-- 合并有序数组测试用例
(4025, 3006, '3 3\n1 3 5\n2 4 6', '1 2 3 4 5 6'),
(4026, 3006, '2 2\n1 2\n3 4', '1 2 3 4'),
(4027, 3006, '1 3\n1 2 3', '1 2 3'),

-- 最短路径测试用例
(4028, 3007, '3 3\n1 2\n2 3\n1 3\n1 3', '1'),
(4029, 3007, '4 2\n1 2\n3 4\n1 4', '-1'),
(4030, 3007, '5 4\n1 2\n2 3\n3 4\n4 5\n1 5', '4');

-- ==================== 竞赛数据 (tb_contest) ====================
INSERT INTO `tb_contest` (`contest_id`, `title`, `description`, `status`, `start_time`, `end_time`, `create_by`) VALUES
(5001, '周赛 #1 - 新手入门', '适合初学者的练习赛，包含简单的基础题目', 0, '2026-01-25 14:00:00', '2026-01-25 17:00:00', 2001),
(5002, '月赛 #2 - 算法进阶', '中等难度题目，适合有一定基础的选手', 0, '2026-02-01 14:00:00', '2026-02-01 18:00:00', 2001),
(5003, '校选拔赛 - 内部测试', '高难度竞赛，选拔优秀选手', 1, '2026-01-20 10:00:00', '2026-01-20 14:00:00', 2001);

-- ==================== 竞赛题目关联数据 (tb_contest_problem) ====================
INSERT INTO `tb_contest_problem` (`contest_id`, `problem_id`, `display_id`) VALUES
-- 周赛 #1
(5001, 3001, 'A'),
(5001, 3002, 'B'),
(5001, 3003, 'C'),
(5001, 3004, 'D'),

-- 月赛 #2
(5002, 3004, 'A'),
(5002, 3005, 'B'),
(5002, 3006, 'C'),

-- 校选拔赛
(5003, 3006, 'A'),
(5003, 3007, 'B'),
(5003, 3008, 'C');

-- ==================== 竞赛报名数据 (tb_contest_registration) ====================
INSERT INTO `tb_contest_registration` (`contest_id`, `user_id`) VALUES
-- 周赛 #1 报名
(5001, 1001),
(5001, 1002),
(5001, 1003),
(5001, 1004),
(5001, 1005),

-- 月赛 #2 报名
(5002, 1001),
(5002, 1003),
(5002, 1005),

-- 校选拔赛报名
(5003, 1001),
(5003, 1002),
(5003, 1003);

SET FOREIGN_KEY_CHECKS = 1;

-- ==================== 数据统计 ====================
-- 用户数: 5 个普通用户
-- 管理员数: 3 个管理员
-- 题目数: 8 道 (简单3道、中等3道、困难2道)
-- 标签数: 10 个
-- 测试用例: 30 组
-- 竞赛数: 3 场
-- 竞赛题目关联: 10 条
-- 报名记录: 11 条

-- ==================== 登录账号信息 ====================
-- 普通用户账号:
-- user001 / 123123
-- user002 / 123123
-- user003 / 123123
-- user004 / 123123
-- user005 / 123123

-- 管理员账号:
-- admin / 123123
-- admin001 / 123123
-- admin002 / 123123
